{% extends "base.html" %}

{% load static %}  

{% block content %}

<!-- Hero Section -->
<section class="container py-5 text-center text-md-start">
    <div class="row align-items-center">
        <div class="col-12 d-md-none text-center">
            <h1 class="hero-text">
                <span class="text-orange">Save money</span>
                <span class="d-block">on your next Amazon purchase.</span>
            </h1>
        </div>
        <div class="col-12 col-md-4 order-md-1 d-none d-md-block">
            <h1 class="hero-text">
                <span class="text-orange">Save money</span>
                <span class="d-block">on your next Amazon purchase.</span>
            </h1>
            <p class="hero-subtext sub-text mt-3">
                <span class="text-orange fw-bold title">amaze</span> is a free Amazon price tracker, alerting you to
                good deals on products you love.
            </p>
            <a href="{% url 'register_view' %}" class="btn-orange text-decoration-none">Sign up for free</a>
        </div>
        <div class="col-12 col-md-8 order-md-2 text-md-end mt-4 mt-md-0">
            <img src="{% static 'img/hero.jpg' %}" alt="Hero Image" class="img-fluid hero-image">
        </div>
    </div>
    <div class="col-12 d-md-none text-center mt-3">
        <p class="hero-subtext sub-text">
            <span class="text-orange fw-bold title">amaze</span> is a free Amazon price tracker, alerting you to good
            deals on products you love.
        </p>
        <a href="{% url 'register_view' %}" class="btn-orange text-decoration-none">Sign up for free</a>
    </div>
</section>

<!-- Features Section -->
<div class="container-fluid px-5">
    <h4 class="text-center fw-bold title best-text">Features</h4>
    <div class="row justify-content-center">
        <div class="col-12 col-md-5 p-3">
            <img src="{% static 'img/feature1.png' %}" alt="Feature Image1" class="img-fluid w-100">
        </div>
        <div class="col-12 col-md-5 p-3">
            <img src="{% static 'img/feature2.png' %}" alt="Feature Image2" class="img-fluid w-100">
        </div>
    </div>
</div>

<!-- Divider Line -->
<div class="container-fluid px-5 py-5">
    <div class="line"></div>
</div>

<!-- Bestseller Section -->
<div class="container py-3">
    <h4 class="text-start fw-bold mb-3 best-text">Amazon Bestsellers</h4>
    <p class="mb-4">
        Explore the hottest products everyone is buying on Amazon! These top-rated picks are updated frequently,
        so check back often to stay ahead of the trends.
    </p>
    <div id="product-container" class="d-flex overflow-auto">  
        {% for product in products %}
        <div class="card flex-shrink-0 border border-secondary mx-2" style="width: 18rem; height: 24.5rem;">
            <a href="{% url 'result' %}?url={{ product.product_url|urlencode }}">
                <img src="{{ product.image_url }}" class="card-img-top p-2 mt-3" alt="{{ product.title }}"
                    style="height: auto; max-height: 10rem; object-fit: contain; width: 100%;">
            </a>
            <div class="card-body d-flex flex-column">
                <a href="{% url 'result' %}?url={{ product.product_url|urlencode }}" class="text-dark text-decoration-none">
                    <p class="card-title title-clamp px-2">{{ product.title }}</p>
                </a>
                <p class="fw-bold text-center my-2 mt-auto">{{ product.current_price }}</p>
                <a href="{{ product.product_url }}" target="_blank" class="btn btn-warning mt-auto">View at Amazon</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Divider Line -->
<div class="container-fluid px-5 py-5">
    <div class="line"></div>
</div>

<!-- Today's Deals Section -->
<div class="container py-3">
    <h4 class="text-start fw-bold mb-3 best-text">Amazon Today's Deals</h4>  
    <p class="mb-4">
        Discover Amazon's latest limited-time offers! Stay updated with new deals as they appear.
    </p>
    <div id="product_deals-container" class="d-flex overflow-auto"> 
        {% for product in products_deal %}
        <div class="card flex-shrink-0 border border-secondary mx-2" style="width: 18rem; height: 24.5rem;">
            <a href="{% url 'result' %}?url={{ product.product_url|urlencode }}">
                <img src="{{ product.image_url }}" class="card-img-top p-2 mt-3" alt="{{ product.title }}"
                    style="height: auto; max-height: 10rem; object-fit: contain; width: 100%;">
            </a>
            <div class="card-body d-flex flex-column">
                <a href="{% url 'result' %}?url={{ product.product_url|urlencode }}" class="text-dark text-decoration-none">
                    <p class="card-title title-clamp px-2">{{ product.title }}</p>
                </a>
                <p class="fw-bold text-center my-2 mt-auto">&#8377;{{ product.current_price }}</p>
                <a href="{{ product.product_url }}" target="_blank" class="btn btn-warning mt-auto">View at Amazon</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Closing div for container -->
</div>

<!-- Load JavaScript for Infinite Scroll -->
<!-- <script src="{% static 'js/scroll.js' %}"></script> -->

{% endblock %}
